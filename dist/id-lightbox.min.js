"use strict";!function(){this.IDLightbox=function(t){this.elems=document.querySelectorAll(t),this.current=-1,this.overlay,this.container,this.galId,this.clickHandler=this.clickHandler.bind(this),this.destroy=this.destroy.bind(this),this.nextImg=this.nextImg.bind(this),this.prevImg=this.prevImg.bind(this);for(var e=0;e<this.elems.length;e++)this.elems[e].addEventListener("click",this.clickHandler);this.setupContentArea()},IDLightbox.prototype.setupContentArea=function(){this.overlay=document.createElement("div"),this.overlay.classList.add("id-lightbox-overlay"),this.container=document.createElement("div"),this.container.classList.add("id-lightbox-container"),this.overlay.innerHTML='<span class="id-lightbox-close"></span>',this.overlay.addEventListener("click",this.destroy),this.overlay.querySelector(".id-lightbox-close").addEventListener("click",this.destroy)},IDLightbox.prototype.setupControls=function(){this.container.innerHTML+='<span class="id-lightbox-next"></span><span class="id-lightbox-prev"></span>',this.container.querySelector(".id-lightbox-next").addEventListener("click",this.nextImg),this.container.querySelector(".id-lightbox-prev").addEventListener("click",this.prevImg)},IDLightbox.prototype.clickHandler=function(t){var e=this;t.preventDefault();var i=void 0;if(this.galId=t.target.rel,this.galId){for(var r=document.querySelectorAll("[rel="+this.galId+"]"),s=0;s<r.length;s++)i=this.setupImage(r[s].href),r[s]===t.currentTarget&&(this.current=s,i.classList.add("id-lightbox-current")),this.container.appendChild(i);r.length>1&&this.setupControls()}else this.current=0,(i=this.setupImage(t.target.href)).classList.add("id-lightbox-current"),this.container.appendChild(i);document.body.appendChild(this.container),document.body.appendChild(this.overlay),setTimeout(function(){e.container.classList.add("visible"),e.overlay.classList.add("visible")},50)},IDLightbox.prototype.setupImage=function(t){var e=new Image;return e.src=t,e.classList.add("id-lightbox-image"),e},IDLightbox.prototype.destroy=function(t){t.preventDefault(),console.log("here"),this.overlay.remove(),this.container.remove(),this.setupContentArea()},IDLightbox.prototype.nextImg=function(t){t.preventDefault();var e=this.container.querySelectorAll(".id-lightbox-image"),i=this.container.querySelector(".id-lightbox-current");this.current=this.current<e.length-1?this.current+1:0,i.classList.remove("id-lightbox-current"),e[this.current].classList.add("id-lightbox-current")},IDLightbox.prototype.prevImg=function(t){t.preventDefault();var e=this.container.querySelectorAll(".id-lightbox-image"),i=this.container.querySelector(".id-lightbox-current");this.current=this.current<=0?e.length-1:this.current-1,i.classList.remove("id-lightbox-current"),e[this.current].classList.add("id-lightbox-current")}}();